---
const { frontmatter } = Astro.props;
import data from "../data/champion-stats.json";
import BaseLayout from "./BaseLayout.astro";

const skills = frontmatter.builds.skills;
const skillOrder = ["s1", "s2", "s3", "s4"];

interface Build {
  items: string[];
  summoners: string[];
  runes: string[];
  skills: string[];
  skillsorder: string;
}

interface Abilities {
  passive: { video: string };
  one: { video: string };
  two: { video: string };
  three: { video: string };
  ult: { video: string };
}

interface Frontmatter {
  title: string;
  image: string;
  description: string;
  tier: string;
  builds: Build;
  abilities: Abilities;
  skilldescription1: string;
}
---

<BaseLayout>
  <div class="champion-container">
    <section class="info">
      <div class="container">
        <div class="champion-image">
          <img src={frontmatter.image} alt="aatrox" />
        </div>
        <div class="champion-info">
          <h2 class="champion-title">{frontmatter.title}</h2>
          <p class="champion-description">{frontmatter.description}</p>
          <p class="champion-tier">
            Tier: <span style="font-weight: bold;">{frontmatter.tier}</span>
          </p>
        </div>
      </div>
    </section>

    <!-- <section class="stats">
      <div class="container">
        <h2>Basic statistics</h2>
        <h1>{data[frontmatter.title].title} - {data[frontmatter.title].id}</h1>
        <p><strong>Title:</strong> {data[frontmatter.title].title}</p>
        <p><strong>Damage:</strong> {data[frontmatter.title].damage}</p>
        <p><strong>Toughness:</strong> {data[frontmatter.title].toughness}</p>
        <p><strong>Utility:</strong> {data[frontmatter.title].utility}</p>
        <p><strong>Difficulty:</strong> {data[frontmatter.title].difficulty}</p>
        <p><strong>Role:</strong> {data[frontmatter.title].role.join(", ")}</p>
        <p>
          <strong>Skills:</strong>
          {data[frontmatter.title].skills.join(", ")}
        </p>
        <p><strong>Stats:</strong>{data[frontmatter.title].stats.hp_base}</p>
      </div>
    </section> -->
    <!-- <details id="target-me">
      <summary>
        <div class="content-box">
          <h1>AATROX JUNGLE</h1>
        </div>
      </summary>
    </details> -->

    <section class="summoner-spells">
      <div class="container">
        <h2>{frontmatter.title} - summoner spells</h2>
        <div class="row">
          {
            frontmatter.builds.summoners.map((summoner: string) => (
              <div class="item-container">
                <div class="item-image">
                  <img src={`/summoners/${summoner}.webp`} alt="" />
                </div>
                <div class="item-description">
                  {summoner.replaceAll("-", " ")}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <section class="runes">
      <div class="container">
        <h2>{frontmatter.title} - runes</h2>
        <div class="row">
          {
            frontmatter.builds.runes.map((rune: string) => (
              <div class="item-container">
                <div class="item-image">
                  <img src={`/runes/${rune}.webp`} alt="" />
                </div>
                <div class="item-description">{rune.replaceAll("-", " ")}</div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <section class="items">
      <div class="container">
        <h2>{frontmatter.title} - item build</h2>
        <div class="row">
          {
            frontmatter.builds.items.map((item: string) => (
              <div class="item-container">
                <div class="item-image">
                  <img src={`/items/${item}.webp`} alt="" />
                </div>
                <div class="item-description">{item.replaceAll("-", " ")}</div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <section class="skill-order">
      <div class="container">
        <h2>Skill Order {frontmatter.title}</h2>
        {
          skillOrder.map((order: string, index: number) => (
            <div class="skills-order">
              <div class="box" style="background-color: red; width:50px">
                Ability{index + 1}
              </div>
              {skills.map((skill: string, index: number) =>
                skill === order ? (
                  <div class="box" style="background-color: green;">
                    {index + 1}
                  </div>
                ) : (
                  <div class="box" />
                )
              )}
            </div>
          ))
        }
        <p>{frontmatter.builds.skillsorder}</p>
      </div>
    </section>

    <section class="skills">
      {
        [
          {
            name: frontmatter.abilities.ability0.title,
            video: frontmatter.abilities.ability0.video,
            description: frontmatter.abilities.ability0.description,
          },
          {
            name: frontmatter.abilities.ability1.title,
            video: frontmatter.abilities.ability1.video,
            description: frontmatter.abilities.ability1.description,
          },
          {
            name: frontmatter.abilities.ability2.title,
            video: frontmatter.abilities.ability2.video,
            description: frontmatter.abilities.ability2.description,
          },
          {
            name: frontmatter.abilities.ability3.title,
            video: frontmatter.abilities.ability3.video,
            description: frontmatter.abilities.ability3.description,
          },
          {
            name: frontmatter.abilities.ability4.title,
            video: frontmatter.abilities.ability4.video,
            description: frontmatter.abilities.ability4.description,
          },
        ].map((skill, index) => (
          <div class="container">
            <h2>{skill.name}</h2>
            <div class="skill">
              <div class="skill-video">
                <video autoplay muted loop playsinline>
                  <source src={skill.video} type="video/mp4" />
                </video>
              </div>
              <div class="skill-description">
                <p>{skill.description}</p>
              </div>
            </div>
          </div>
        ))
      }
    </section>

    <section class="how2play">
      <div class="container">
        <div class="game-phase">
          <h2>Early game</h2>
          <p>{frontmatter.early_game}</p>
        </div>
        <div class="game-phase">
          <h2>Mid game</h2>
          <p>{frontmatter.mid_game}</p>
        </div>
        <div class="game-phase">
          <h2>Late game</h2>
          <p>{frontmatter.late_game}</p>
        </div>
      </div>
    </section>
  </div>
</BaseLayout>

<!-- <script>
  document.getElementById("target-me").open = true;
</script> -->

<style>
  .how2play .container {
    color: white;
    text-align: left;
  }

  .game-phase {
    margin-bottom: 20px;
  }

  h2 {
    font-size: 2rem;
    margin-bottom: 25px;
  }
  .champion-container {
    margin: 0 auto;
    width: 90%;
    margin-top: 20px;
    color: white;
    padding: 10px;
  }

  .container {
    background-color: #2e4da2;
    text-align: center;
    border-radius: 30px;
    margin-bottom: 30px;
    padding: 20px;
  }

  .row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 50px;
    flex-wrap: wrap;
  }

  .item-container {
    height: auto;
    width: 80px;
    margin-bottom: 10px;
  }

  .item-image img {
    width: 100%;
    border-radius: 50%;
  }

  .champion-stats {
    background-color: #2e4da2;
    display: flex;
    gap: 100px;
    width: 100%;
  }

  .champion-image img {
    width: 200px;
    height: auto;
    border-radius: 15px;
    margin: 0 auto;
  }

  .champion-title {
    font-size: 35px;
  }

  .champion-description,
  .champion-tier {
    font-size: 20px;
  }

  /* skills order */
  .skills-order {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 25px 0;
    flex-direction: row;
    gap: 10px;
    margin-bottom: 20px;
  }

  .skill {
    display: flex;
    flex-direction: row;
    gap: 10px;
    margin-bottom: 20px;
  }

  .skill-video {
    width: 100%;
    height: auto;
    border-radius: 10px;
  }

  .skill-video video {
    width: 100%;
  }

  .skill-description {
    flex: 1 0 50%;
    /* background-color: rgba(36, 227, 241, 0.687); */
    background-color: transparent;
    font-size: 20px;
    padding: 15px;
    text-align: left;
  }

  /* skill order */
  .skill-one {
    display: flex;
    gap: 10px;
    margin: 10px;
    justify-content: center;
    align-items: center;
  }

  .box {
    font-size: 13px;
    width: 20px;
    height: 20px;
    background-color: #7b6ce7;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 25%;
    color: #fff;
  }

  /* details {
    padding: 25px;
    background-color: #4d708e;
    border-radius: 5px;
    margin-bottom: 20px;
  }

  summary::marker {
    content: "";
  } */
  /* Styl dla średnich ekranów (tablety) */
  @media (max-width: 768px) {
    .champion-container {
      width: 95%;
      padding: 5px;
    }

    .skill {
      flex-direction: column;
    }

    .item-container {
      width: 70px;
    }

    .skill-video,
    .skill-description {
      flex: 1 0 100%;
    }

    .skill-description {
      font-size: 20px;
    }
  }

  /* Styl dla małych ekranów (smartfony) */
  @media (max-width: 480px) {
    .champion-container {
      width: 100%;
    }

    .container {
      padding: 15px;
      margin-bottom: 20px;
    }

    .item-container {
      width: 70px;
    }

    .champion-title {
      font-size: 28px;
    }

    .champion-description,
    .champion-tier {
      font-size: 18px;
    }

    .champion-image img {
      width: 80%;
      margin: 0 auto;
    }

    .skill {
      flex-direction: column;
      margin: 10px 0;
    }

    .skill-video {
      flex: 1 0 100%;
    }

    .skill-video video {
      width: 100%;
      height: auto;
    }

    .skill-description {
      font-size: 18px;
      padding: 10px;
    }

    h2 {
      font-size: 22px;
    }
  }
</style>
