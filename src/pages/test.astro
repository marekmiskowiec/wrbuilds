<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <style>
      /* Stylowanie dla motywu jasnego */
      body.light-theme {
        background-color: #ffffff;
        color: #000000;
      }

      /* Stylowanie dla motywu ciemnego */
      body.dark-theme {
        background-color: #1e1e1e;
        color: #ffffff;
      }

      /* Stylowanie dla motywu niebieskiego */
      body.blue-theme {
        background-color: #007bff;
        color: #ffffff;
      }

      /* Stylowanie dla motywu zielonego */
      body.green-theme {
        background-color: #28a745;
        color: #ffffff;
      }
    </style>

    <script>
      // Funkcja do ustawiania motywu
      const setTheme = (themeName: string) => {
        document.body.className = themeName; // Zastępuje wszystkie klasy body wybraną klasą motywu
        localStorage.setItem("theme", themeName); // Zapisuje preferencje użytkownika w localStorage
      };

      // Funkcja inicjalizująca motyw po załadowaniu strony
      const initTheme = () => {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) {
          document.body.className = savedTheme; // Przywraca zapisany motyw
        }
      };

      // Dodajemy event listener na przyciski, które zmieniają motyw
      document.addEventListener("DOMContentLoaded", () => {
        // Inicjalizacja motywu przy starcie
        initTheme();

        // Przełączanie motywów za pomocą przycisków
        const themeButtons = document.querySelectorAll(
          ".theme-toggle-btn"
        ) as NodeListOf<HTMLButtonElement>;
        themeButtons.forEach((button) => {
          button.addEventListener("click", () => {
            const theme = button.dataset.theme; // Odczytujemy nazwę motywu z data-theme
            setTheme(theme!); // Dodajemy !, aby poinformować TS, że wartość nie jest null
          });
        });
      });
    </script>
  </head>

  <body>
    <h1>Wybierz motyw:</h1>

    <button class="theme-toggle-btn" data-theme="light-theme">Jasny</button>
    <button class="theme-toggle-btn" data-theme="dark-theme">Ciemny</button>
    <button class="theme-toggle-btn" data-theme="blue-theme">Niebieski</button>
    <button class="theme-toggle-btn" data-theme="green-theme">Zielony</button>
  </body>
</html>
